# 리덕스 잘 쓰고 계시나요?

## 리덕스가 과연 필요한 프로젝트인가?

> 리액트 자체적인 기능만을 사용해도 리덕스 없이 프로젝트를 충분히 개발할 수 있고 다른 라이브러리의 도움을 받아 훨씬 편하게 개발할 수 있는 방법들이 존재

### 1. Context API

- 단순히 전역적인 상태를 사용하려고 할 때
- 리덕스와 1:1의 비교 대상이 될 수 없음
- 단순히 수단으로서 상태 관리 자체는 useState와 useReducer를 활용

**중요한 차이점**

- 성능 측면
- 리덕스는 자체적으로 최적화가 존재
- 컴포넌트 렌더링의 낭비가 감소

**따라서 Context를 사용하는 경우 관심사의 분리가 중요하다**

- 관련이 없는 상태라면 Context 역시 개별적으로 존재해야 함
- 예를 들어 상태와 상태 setter의 경우
  - 상태만 업데이트 되더라도 setter가 같은 context에 존재한다면 setter를 사용하는 컴포넌트 측에서도 리렌더가 발생
- 이와 같은 이유로 글로벌한 상태가 다양해지는 경우에는 context의 사용이 적합하지 않을 수도 있다

### 2. constate, Recoil, jotai

- constate: Context를 기반으로 작동하는 상태 관리 라이브러리
- Recoil: Context와 상태관리로 인해서 발생하는 어려움을 리액트스러운 방법으로 개선하기 위해서 페이스북 팀에서 개발한 상태 관리 라이브러리
- Jotai: Recoil과 유사하지만 훨씬 간단, 미니멀한 API를 강조

## 그렇다면 리덕스가 필요한 순간은 언제인가?

1. 리덕스를 사용한 개발 스타일이 너무 마음에 들 때

   - 모든 상태 업데이트를 액션으로 정의
   - 액션에 기반해서 상태 업데이트
   - 더욱 쉽게 상태 예측을 가능하게 함

2. 미들웨어의 사용

   - 상태 업데이트 외의 다른 작업들을 처리할 수 있음
   - 주로 API 요청
   - 비동기 작업에 대한 플로우에 대해서 많은 컨트롤을 필요로 할 때

3. 서버사이드 렌더링

4. 쉬운 테스팅

   - 상태 업데이트에 대한 로직을 테스트하기 쉬움
   - 리덕스와 연동된 컴포넌트 테스트를 위해서 Mocking이 가능

5. 컴포넌트가 아닌 곳에서의 글로벌 상태의 사용, 업데이트
6. 다수의 사용

## Toolkit은 필수템!

- 리듀서, 액션타입, 액션 생성함수, 초기상태를 묶어서 슬라이스라고 칭함
- 이를 한 번에 함수로 편하게 선언할 수 있음

## TS는 꼭 사용하라!

- 상태를 자동완성 해주는 기능이 편리
- 상태가 많아서 관리하기 힘들 때 관련 코드를 열어보지 않고 확인할 수 있음

## Selector 활용하기

- 상태의 구조가 변경되었을 때 selector를 별도로 정의했으면 그 부분을 바꾸는 것으로 해결할 수 있음
- useMemo를 활용해서 useSelector를 통해 선택된 상태를 최적화할 수도 있음
